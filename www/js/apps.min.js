function initOrder(){Vue.component("app-order",{props:{Index:Number},data(){return{}},mounted(){}})}function initBenefits(){Vue.component("app-benefits",{data(){return{Slides:BENEFITS_DATA,Selected:0,options:{direction:"horizontal",slideActiveClass:"active",touchReleaseOnEdges:!0,speed:1200,lazy:{loadPrevNext:!0},watchSlidesProgress:!0,on:{progress:function(){var t=this;for(let e=0;e<t.slides.length;e++){var o=t.slides[e].progress*(.7*t.width);t.slides[e].querySelector(".img").style.transform="translate3d("+o+"px, 0, 0)"}},touchStart:function(){for(let e=0;e<this.slides.length;e++)this.slides[e].style.transition=""},setTransition:function(t,o){t=this;for(let e=0;e<t.slides.length;e++)t.slides[e].style.transition=o+"ms",t.slides[e].querySelector(".img").style.transition=o+"ms"}}}}},computed:{slider(){return this.$refs.slider}},watch:{Selected(){this.$refs.slider.swiper.slideTo(this.Selected)}},mounted(){const t=this;t.$refs.slider.swiper.on("slideChange",function(){var e=this.realIndex;t.Selected=e})}})}function initPoints(){Vue.component("app-points",{data(){return{Slides:POINTS_DATA,isStart:!0,Selected:0,options:{loop:!0,slideActiveClass:"active",autoHeight:!0,lazy:{loadPrevNext:!0},direction:"horizontal",speed:600},optionsPager:{direction:"vertical",speed:600,slideActiveClass:"active"}}},computed:{Pager(){return this.$refs.pager},Slider(){return this.$refs.slider}},mounted(){const t=this;t.Selected=1,t.Slider.swiper.on("slideChange",function(){var e=this.realIndex;t.Pager.swiper.slideTo(e)}),t.initObserver()},methods:{initObserver(){const o=this;var e=o.$el;let i;const t=new IntersectionObserver(function(e,t){e.forEach(function(e){var t=e.isIntersecting;t&&!i&&(i=!0),!t&&i&&0<=e.boundingClientRect.y&&!o.isStart&&(i=!1,o.isStart=!0)})});t.observe(e)}}})}function initGallery(){Vue.component("app-gallery",{props:{isPhone:Boolean},data(){return{Slides:GALLERY_DATA,Direction:"start",options:{autoHeight:!0,direction:"horizontal",lazy:{loadPrevNext:!0},navigation:{nextEl:".gallery-next",prevEl:".gallery-prev",disabledClass:"disabled"},breakpointsInverse:!0,breakpoints:{0:{speed:600},768:{speed:1200}}}}},mounted(){const e=this;e.initLightbox(),e.Slider.swiper.on("slideNextTransitionStart",function(){e.Direction=this.realIndex+1==e.Slides.length?"end":"next"}).on("slidePrevTransitionStart",function(){e.Direction=0==this.realIndex?"start":"prev"}).on("reachBeginning",function(){e.Direction="start"}).on("reachEnd",function(){e.Direction="end"})},computed:{Slider(){return this.$refs.slider}},methods:{initLightbox(){const t=this;let e=GLightbox({selector:".gallery-zoom"});e.on("slide_changed",function(e){t.Slider&&t.Slider.swiper.slideTo(e.current.index)})}}})}function initFlats(){Vue.component("app-flats",{props:{inView:Boolean},data(){return{isLoaded:!1,ItemsAll:[],Items:[],Rooms:[],Types:[],Levels:[],Areas:[],Flats:[],Flat:{},Blocks:[],url:URLS.flats,SelectedRooms:null,SelectedType:null,SelectedLevel:0,SelectedArea:null,SelectedView:"default",SelectedFlat:!1,ImageLoaded:!1,LightBox:null}},watch:{inView(){this.inView&&this.load()}},methods:{load(){const t=this;fetch(t.url).then(e=>e.json()).then(e=>{t.ItemsAll=e,t.init()})},init(){let t=[],o=[],i=[];this.ItemsAll.forEach(function(e){1==e.status&&(i.push(e),e.type?o.push(e.type):t.push(e.rooms))}),o=sort(o=unique(o),"asc"),t=sort(t=unique(t),"asc"),this.isLoaded=!0,this.Items=i,this.Rooms=t,this.Types=o,this.SelectRooms(t[0])},SelectTypes(e){this.Select("type",e)},SelectRooms(e){this.Select("rooms",e)},Select(t,o){this.SelectedRooms="rooms"==t?o:null,this.SelectedType="type"==t?o:null;let i=[];this.Items.forEach(function(e){("type"==t&&e.type==o||"rooms"==t&&e.rooms==o)&&i.push(e.level)}),i=sort(i=unique(i),"asc");var e=this.SelectedFlat?this.SelectedFlat.level:i[0];this.Levels=i,this.SelectedView="default",this.SelectLevel(e)},SelectLevel(t){this.SelectedLevel=t;let o=this.SelectedRooms,i=this.SelectedType,s=[];this.Items.forEach(function(e){(i&&e.type==i&&e.level==t||o&&e.rooms==o&&e.level==t)&&s.push(e.area)}),s=sort(s=unique(s),"asc");var e=this.SelectedFlat?this.SelectedFlat.area:0<=s.indexOf(this.Flat.area)?this.Flat.area:s[0];this.Areas=s,this.SelectedFlat=!1,this.SelectArea(e)},SelectArea(t){this.SelectedArea=t;let o=this.SelectedRooms,i=this.SelectedType,s=this.SelectedLevel,n=[],r=[];this.Items.forEach(function(e){(o&&e.rooms==o&&e.level==s&&e.area==t||i&&e.type==i&&e.level==s&&e.area==t)&&(n.push(e.block),r.push(e))}),n=sort(n=unique(n),"asc"),this.Blocks=n,this.Flats=r,this.Flat=r[0],this.loadImage();const e=this;setTimeout(function(){e.initLightbox()},100)},initLightbox(){this.LightBox&&this.LightBox.destroy(),this.LightBox=GLightbox({selector:".flats-zoom",height:"100vh"}),this.LightBox.on("open",function(){document.body.classList.add("flats--photo")}),this.LightBox.on("close",function(){document.body.classList.remove("flats--photo")})},loadImage(){const e=this;let t=new Image;t.src=e.Flat.img,e.ImageLoaded=!1,t.onload=function(){e.ImageLoaded=!0,t=null}},checkStatus:function(t,o){var e="",i=this.ItemsAll.filter(function(e){return e.block==o&&e.area==t&&1==e.status})[0];return i&&(e="available"),i&&1==i.status||(e="disabled"),e=i&&this.Flat&&i.area==this.Flat.area?"selected":e},selectFlat(t,o){var e=this.Items.find(function(e){return e.area==t&&e.block==o});this.SelectedFlat=e,this.Select(e.type?"type":"rooms",e.type||e.rooms)}}})}function initTerms(){Vue.component("app-terms",{data(){return{Items:TERMS_DATA}}})}function initDropTerms(){Vue.component("app-drop-terms",{props:{Terms:Object}})}function initStatus(){Vue.component("app-status",{data(){return{Slides:STATUS_DATA,options:{direction:"horizontal",slideActiveClass:"active",slideToClickedSlide:!0,speed:600,lazy:{loadPrevNext:!0,loadPrevNextAmount:3},slidesPerView:"auto",spaceBetween:56}}},methods:{getPoster(e){return"https://i3.ytimg.com/vi/"+getYoutubeId(e)+"/hqdefault.jpg"}}})}function initModalStatus(){Vue.component("app-modal-status",{props:{Selected:Object,isShowed:Boolean},data(){return{isLoaded:!1,options:{direction:"horizontal",speed:600,lazy:{loadPrevNext:!0},navigation:{nextEl:".modal-status-next",prevEl:".modal-status-prev",disabledClass:"disabled"}},optionsPager:{direction:"vertical",speed:600,slideActiveClass:"active"},player:!1,playing:!1}},watch:{Selected(){const e=this;void 0!==e.Selected.photos?setTimeout(function(){e.initPager(),e.initVideo()},100):e.checkPlayer()}},created(){this.isLoaded=!0},computed:{Amount(){if(this.Selected.photos)return this.Selected.photos.length}},methods:{initVideo(){const e=this;let t=e.$refs.modalStatusSlider;e.checkVideo(),t.swiper.on("slideChange",function(){e.checkVideo()})},checkPlayer(){this.playing&&(this.player.stopVideo(),this.playing=!1)},checkVideo(){const t=this;var e=t.$refs.modalStatusSlider,o=t.Selected.id,e=e.swiper.realIndex,i=t.Selected.photos[e].video,o="video-"+o+"-"+e;t.checkPlayer(),void 0!==i&&(e=getYoutubeId(i),new YT.Player(o,{videoId:e,events:{onReady:function(e){t.player=e.target},onStateChange:function(e){1===e.data?t.playing=!0:t.playing=!1}}}))},initPager(){let e=this.$refs.modalStatusSlider,t=this.$refs.modalStatusPager;e.swiper.on("slideChange",function(){var e=this.realIndex;t.swiper.slideTo(e)})},getYoutubeSrc(e){return"https://www.youtube.com/embed/"+getYoutubeId(e)}}})}function initCommercial(){Vue.component("app-commercial",{props:{inView:Boolean},data(){return{isLoaded:!1,Items:[],Areas:[],SelectedArea:null,Selected:{},ImageLoaded:!1,url:URLS.commerce,LightBox:null}},watch:{inView(){this.inView&&this.load()}},methods:{load(){const t=this;fetch(t.url).then(e=>e.json()).then(e=>{t.Items=e,t.init()})},init(){this.isLoaded=!0,this.getAreas()},loadImage(){const e=this;let t=new Image;t.src=e.Selected.img,e.ImageLoaded=!1,t.onload=function(){e.ImageLoaded=!0,t=null}},getAreas(){let t=[];this.Items.forEach(function(e){e.status&&t.push(e.area)}),t=sort(t=unique(t),"asc"),this.Areas=t,this.selectArea(t[0])},selectArea(e){this.SelectedArea=e,this.getItem()},getItem(){let t=this.SelectedArea;var e=this.Items.find(function(e){return e.area==t});this.Selected=e,this.loadImage();const o=this;setTimeout(function(){o.initLightbox()},100)},initLightbox(){this.LightBox&&this.LightBox.destroy(),this.LightBox=GLightbox({selector:".commercial-zoom",height:"100vh"}),this.LightBox.on("open",function(){document.body.classList.add("flats--photo")}),this.LightBox.on("close",function(){document.body.classList.remove("flats--photo")})}}})}function initContacts(){Vue.component("app-contacts",{props:{isPhone:Boolean,inView:Boolean},data(){return{MapData:MAP_DATA,MapZoom:MAP_DATA.zoom,timer:null,map:null}},computed:{LatLng(){return this.MapData.latlng.split(",")},Sizes(){return this.MapData.sizes.split(",")},Offset(){return this.MapData.offset.split(",")},mapEl(){return this.$refs.mapEl}},watch:{inView(){this.inView&&this.init()}},methods:{init(){const e=this;e.timer=setInterval(function(){e.check()},2e3),MAP_DATA.zoom,e.MapZoom=e.isPhone?e.MapData.zoom-1:e.MapData.zoom},check(){"undefined"!=typeof DG&&(clearInterval(this.timer),this.render())},render(){const o=this;let i;o.Sizes[0],o.Sizes[1],o.Offset[0],o.Offset[1];DG.then(function(){i=DG.map(o.mapEl,{center:o.LatLng,minZoom:15,maxZoom:18,zoom:o.isPhone?o.MapData.zoom-1:o.MapData.zoom,fullscreenControl:!1,zoomControl:!1,scrollWheelZoom:!0});var e=DG.divIcon({html:"<div class='map-marker'><div class='map-marker-img'><img src='"+o.MapData.marker+"' class='img--cover' alt='icon' /></div></div>"});DG.marker(o.LatLng,{icon:e,riseOnHover:!1,alt:"pin"}).addTo(i);let t=[];document.addEventListener("click",function(){}),o.MapData.coords.split("],").forEach(function(e){e=e.replace("[","").replace("]",""),t.push(e.split(","))}),DG.polygon(t,{color:"#03abbf",opacity:1,weight:0,fillColor:"#03abbf",fillOpacity:1}).addTo(i),i.on("zoom",function(){o.MapZoom=i.getZoom()}),o.map=i})}}})}function initForms(){Vue.component("app-form",{template:"#form",props:{FormClass:String,Action:String,FormUtm:Object,Button:String},data(){return{Name:null,Phone:null,ErrorName:!1,ErrorPhone:!1,isLoading:!1,timer:null}},mounted(){const t=this;document.addEventListener("click",function(e){e.target.classList.contains("form-control")||(t.ErrorPhone=!1,t.ErrorName=!1)})},computed:{nameEl(){return this.$refs.nameEl},phoneEl(){return this.$refs.phoneEl}},methods:{checkErrors(){var e=this.phoneEl.getAttribute("placeholder"),e=this.Phone&&this.Phone.length==e.length-2;this.ErrorName=!this.Name,this.ErrorPhone=!e&&this.Name},send(){const e=this;e.isLoading=!0;e.Name,e.Phone,e.FormUtm.source,e.FormUtm.medium,e.FormUtm.campaign,e.FormUtm.term,e.FormUtm.content;setTimeout(function(){e.isLoading=!1,e.Name=null,e.Phone=null,e.$emit("show-response"),e.timer=setTimeout(function(){e.$emit("hide-response")},5e3),"undefined"!=typeof dataLayer&&dataLayer.push({event:"form_sent"})},500)},submit(e){this.checkErrors(),this.ErrorName||this.ErrorPhone||(this.nameEl.blur(),this.phoneEl.blur(),this.send())}}})}function initCounters(){Vue.component("app-counter",{template:`<template>
								<div class="counter hidden-xs">
									<span class="orig">{{ Value }}</span>
									<span class="coun">{{ Counter }}</span>
								</div>
							</template>`,props:{Value:Number},data(){return{Counter:0,Duration:1e3}},mounted(){const o=this;var e=o.$el;let i;const t=new IntersectionObserver(function(e,t){e.forEach(function(e){var t=e.isIntersecting;t&&!i&&(o.Play(),i=!0),!t&&i&&0<=e.boundingClientRect.y&&!o.isStart&&(i=!1)})});t.observe(e)},methods:{Play(){var e=this.Value;const t=Math.round(this.Duration/(1e3/60));let o=0;const i=+e,s=(i<0&&i,setInterval(()=>{o++;var e=(e=o/t)*(2-e),e=Math.round(i*e);parseInt(this.Counter,10)!==e&&(this.Counter=0+e),o===t&&clearInterval(s)},1e3/60))}}})}var YT,YTConfig;window.YT||(YT={loading:0,loaded:0}),window.YTConfig||(YTConfig={host:"http://www.youtube.com"}),YT.loading||(YT.loading=1,function(){var t=[],e=(YT.ready=function(e){YT.loaded?e():t.push(e)},window.onYTReady=function(){YT.loaded=1;for(var e=0;e<t.length;e++)try{t[e]()}catch(e){}},YT.setConfig=function(e){for(var t in e)e.hasOwnProperty(t)&&(YTConfig[t]=e[t])},document.createElement("script")),o=(e.type="text/javascript",e.id="www-widgetapi-script",e.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vflkvQ6Kw/www-widgetapi.js",e.async=!0,document.getElementsByTagName("script")[0]);o.parentNode.insertBefore(e,o)}());let vendorsTimer;function unique(e){return e.filter(function(e,t,o){return o.indexOf(e)===t})}function sort(e,o){return e.sort(function(e,t){return"asc"==o?t<e?1:-1:e<t?1:-1})}function getYoutubeId(e){return(void 0!==(e=e.split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_\-]/i):e)[0]}function initApp(){Vue.use(VueAwesomeSwiper),Vue.directive("mask",VueMask.VueMaskDirective),Vue.filter("formatMonth",function(e){if(e)return e.split(".")[1]}),Vue.filter("formatYear",function(e){if(e)return e.split(".")[2]}),Vue.filter("formatPage",function(e){e+=1;return e<10?"0"+e:e}),Vue.filter("formatAmount",function(e){return e<10?"0"+e:e}),new Vue({el:"#app",data:{isPhone:null,scrollTopOffset:0,scrollBarWidth:0,scrollBarOffset:0,StatusSlides:[],StatusModalShow:!1,TermsSelected:{},TermsDropShow:!1,appIsLoaded:!1,ShowDropMenu:!1,ShowPolicy:!1,ShowForm:!1,ShowResponse:!1,UTM:{},lazyLoadInstance:null,inView:{contacts:!1,flats:!1,commercial:!1}},created(){const e=this;e.checkDevice(),window.addEventListener("resize",function(){e.checkDevice()})},mounted(){const t=this;t.initLazy(),t.checkUtm(),t.getScrollBarWidth(),t.appIsLoaded=!0,t.scrollTopOffset=t.headerEl.clientHeight-1;var e=location.hash;e&&"#policy"==e&&t.showPolicy(),document.addEventListener("keydown",function(e){"Escape"==e.code&&(t.StatusModalShow&&t.hideStatus(),t.ShowPolicy&&t.hidePolicy(),t.ShowForm&&t.closeForm(),t.TermsDropShow&&t.closeTerms())}),t.initInView(),t.initParallax(),t.initAnimations()},computed:{headerEl(){return this.$refs.headerEl},scrollBar(){return this.$refs.scrollBar}},watch:{scrollBarOffset(){document.body.style.paddingRight=this.scrollBarOffset+"px"},isPhone(){this.updateLazy()}},methods:{checkDevice(){window.innerWidth<768?this.isPhone||(this.isPhone=!0):this.isPhone&&(this.isPhone=!1)},lockScroll(){this.scrollBarOffset=this.scrollBarWidth,document.body.classList.add("lock")},checkUtm(){const o=this;["source","medium","campaign","term","content"].forEach(function(e){var t="utm_"+e;o.UTM[e]=o.getParameterByName(t)})},getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");let t=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=t.exec(location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))},formatPhone(e){return"tel:"+(e="8"==(e=e.replace(/\s/g,"").replace("(","").replace(")","").replace("-","").replace("-","")).substr(0,1)&&e.indexOf("+")<0?"+7"+(e=e.substr(1)):e)},unLockScroll(){this.scrollBarOffset=0,document.body.classList.remove("lock")},getScrollBarWidth(){this.scrollBarWidth=this.scrollBar.offsetWidth-this.scrollBar.clientWidth,this.scrollBar.classList.add("done")},updateLazy(){this.lazyLoadInstance.update()},initLazy(){this.lazyLoadInstance=new LazyLoad({callback_loaded:function(e){null!=e.closest("div")&&e.closest("div").classList.add("loaded"),null!=e.closest("picture")&&e.closest("picture").classList.add("loaded")}})},toggleDropMenu(){this.ShowDropMenu=!this.ShowDropMenu},closeDropMenu(){this.ShowForm=!1,this.ShowResponse=!1,this.ShowDropMenu=!1,this.ShowPolicy=!1},modalShow(){this.lockScroll()},modalShowed(){this.updateLazy()},modalHidden(){this.ShowForm||this.ShowDropMenu||this.unLockScroll(),this.ShowResponse=!1,this.StatusSlides={}},modalTermsHidden(){this.ShowForm||this.ShowDropMenu||this.unLockScroll()},showStatus(e){this.StatusSlides=e,this.StatusModalShow=!0},hideStatus(){this.StatusModalShow=!1},showPolicy(){this.ShowPolicy=!0},hidePolicy(){this.ShowPolicy=!1},toggleForm(){this.ShowForm=!this.ShowForm},openForm(){this.ShowDropMenu&&(this.ShowDropMenu=!1),this.ShowForm=!0},closeForm(){this.ShowForm=!1},showResponse(){const e=this;e.ShowResponse=!0,e.TermsDropShow&&(e.TermsDropShow=!1),e.ShowForm||(e.ShowForm=!0),setTimeout(function(){e.updateLazy()},100)},hideResponse(){this.ShowResponse=!1,this.ShowForm=!1},openTerms(e){this.TermsSelected=e,this.TermsDropShow=!0},closeTerms(){this.TermsDropShow=!1},initInView(){const s=this;document.querySelectorAll(".inview").forEach(function(e){const o=e.getAttribute("data-inview");let i;const t=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&!i&&(i=!0,s.inView[o]=!0)})});t.observe(e)})},initAnimations(){document.querySelectorAll(".anim").forEach(function(o){var e=o.getAttribute("data-threshold");let i;const t=new IntersectionObserver(function(e,t){e.forEach(function(e){var t=e.isIntersecting;t&&!i&&(o.classList.add("animated"),i=!0),!t&&i&&0<=e.boundingClientRect.y&&(o.classList.remove("animated"),i=!1)})},{threshold:e});t.observe(o)})},initParallax(){const o=document.getElementById("parallax-main");window.onscroll=function(e){var t=100*(document.documentElement.scrollTop||document.body.scrollTop)/window.innerHeight/2;o.style.transform="translate3d(0, "+t+"% ,0)"}}}})}function checkVendors(){"undefined"!=typeof Vue&&(clearInterval(vendorsTimer),initOrder(),initBenefits(),initPoints(),initGallery(),initFlats(),initTerms(),initModalStatus(),initStatus(),initCommercial(),initContacts(),initForms(),initDropTerms(),initCounters(),initApp())}window.onload=function(){vendorsTimer=setInterval(function(){checkVendors()},200)};